#include <stdio.h>
#define MAX 100


int str_len(char s[]) {
    int len = 0;
    while (s[len] != '\0') len++;
    return len;
}


void remove_newline(char s[]) {
    int i = 0;
    while (s[i] != '\0') {
        if (s[i] == '\n') {
            s[i] = '\0';
            break;
        }
        i++;
    }
}

int main() {
    char arr[MAX];
    int index, arrLen;
    char kiTu;
    printf("Nhap chuoi cua ban: ");
    fgets(arr, MAX, stdin);
    remove_newline(arr);         
    arrLen = str_len(arr);         

    printf("Nhap ky tu va vi tri ban muon chen: ");
    scanf(" %c%d", &kiTu, &index);

    if (arrLen >= MAX - 1) {
        printf("Chuoi da day, khong the chen!\n");
        return 1;
    }
    if (index < 0 || index > arrLen) {
        printf("Vi tri khong hop le!\n");
        return 1;
    }
    for (int i = arrLen; i > index; i--) {
        arr[i] = arr[i - 1];
    }
    arr[index] = kiTu;
    arrLen++;
    arr[arrLen] = '\0';

    printf("Chuoi sau khi chen la: %s\n", arr);
    return 0;
}